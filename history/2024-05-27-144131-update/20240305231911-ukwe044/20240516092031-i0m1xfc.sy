{"ID":"20240516092031-i0m1xfc","Spec":"1","Type":"NodeDocument","Properties":{"id":"20240516092031-i0m1xfc","title":"Chapter9 基于物理的着色 Physically Based Shading","type":"doc","updated":"20240527144126"},"Children":[{"ID":"20240516092052-q6voa2q","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240516092052-q6voa2q","updated":"20240527144126"},"Children":[{"Type":"NodeText","Data":"9.1 光的物理学"}]},{"ID":"20240516092118-u813r9k","Type":"NodeParagraph","Properties":{"id":"20240516092118-u813r9k","updated":"20240517090720"},"Children":[{"Type":"NodeText","Data":"光被认为是一种电磁横波（electromagnetic transverse wave），它使得电场（electric field）和磁场（magnetic field）在其传播方向的垂直面上来回振荡。"}]},{"ID":"20240517090728-l41uc5p","Type":"NodeParagraph","Properties":{"id":"20240517090728-l41uc5p","updated":"20240517090731"},"Children":[{"Type":"NodeText","Data":"电场和磁场的振荡是耦合的，二者的矢量相互垂直，并且长度之比也是固定的，这个比值等于相位速度（phase velocity）。"}]},{"ID":"20240517090737-yyuj3xv","Type":"NodeParagraph","Properties":{"id":"20240517090737-yyuj3xv","updated":"20240525124917"},"Children":[{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"display: block; width: 520px;","style":"width: 510px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240517090737-qby6cuy.png"},{"Type":"NodeLinkSpace"},{"Type":"NodeLinkTitle","Data":"图9.1：光是一种电磁横波。电场和磁场的矢量垂直于光线的传播方向，并以90度夹角相互振荡。本图中所展示的是最简单的光波，它是单色光（仅有一个固定的波长 λ ），并且是线性偏振的（电场和磁场各自沿着一条直线进行振荡）。"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 510px;\" parent-style=\"display: block; width: 520px;\"}"},{"Type":"NodeText","Data":"​​"}]},{"ID":"20240517094025-nnuyh36","Type":"NodeParagraph","Properties":{"id":"20240517094025-nnuyh36","updated":"20240517101144"},"Children":[{"Type":"NodeText","Data":"图9.1展示了一个简单的光波，事实上，这是最简单的一种，即一个完美的正弦函数。这个波只有一个波长（wavelength），使用希腊字母"},{"Type":"NodeTextMark","TextMarkType":"inline-math","TextMarkInlineMathContent":"\\lambda"},{"Type":"NodeText","Data":"进行表示。"}]},{"ID":"20240517101142-u0k9o5z","Type":"NodeParagraph","Properties":{"id":"20240517101142-u0k9o5z","updated":"20240517101158"},"Children":[{"Type":"NodeText","Data":"具有单一波长的光被称为单色光（monochromatic light）。然而在实践中所遇到的大多数光都是多色光（polychromatic light），即它们包含了许多不同的波长。"}]},{"ID":"20240517101224-3p3qhvt","Type":"NodeParagraph","Properties":{"id":"20240517101224-3p3qhvt","updated":"20240517101232"},"Children":[{"Type":"NodeText","Data":"之所以我们说图9.1所展示的光波是简单的，是因为它是"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color5);"},"TextMarkType":"text","TextMarkTextContent":"线性偏振"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color5);\"}"},{"Type":"NodeText","Data":"（linearly  polarized）的。这意味着"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color5);"},"TextMarkType":"text","TextMarkTextContent":"对于空间中的一个不动点，电场和磁场都沿着一条直线来回运动"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color5);\"}"},{"Type":"NodeText","Data":"；相比之下，在这本书中，我们所关注的是更加普遍的非偏振光（unpolarized light）。"}]},{"ID":"20240517101443-rcv7gwy","Type":"NodeParagraph","Properties":{"id":"20240517101443-rcv7gwy","updated":"20240525124832"},"Children":[{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"display: block;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240517101443-o032p4x.png"},{"Type":"NodeLinkSpace"},{"Type":"NodeLinkTitle","Data":"图9.2：左图展示了不同波长的可见光与一根蜘蛛丝，蜘蛛丝的长度略微超过1微米。右图是一根蜘蛛丝和一根人类头发的直径对比。"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"display: block;\"}"}]},{"ID":"20240517101454-3pptyqa","Type":"NodeParagraph","Properties":{"id":"20240517101454-3pptyqa","updated":"20240517101510"},"Children":[{"Type":"NodeText","Data":"光波会携带能量，这个能量流的强度等于电场强度和磁场强度的乘积，由于电场和磁场交替振荡，二者强度是成比例的，因此光线能量流的强度与电场强度的平方成正比。"}]},{"ID":"20240517101642-grvnsk9","Type":"NodeParagraph","Properties":{"id":"20240517101642-grvnsk9","updated":"20240517101642"},"Children":[{"Type":"NodeText","Data":"光波会以线性的方式进行叠加，总体波是各个分量波之和。"}]},{"ID":"20240517101712-sfgklmw","Type":"NodeBlockquote","Properties":{"id":"20240517101712-sfgklmw","updated":"20240517101716"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e"},{"ID":"20240517101713-9jnq4m2","Type":"NodeParagraph","Properties":{"id":"20240517101713-9jnq4m2","updated":"20240517101716"},"Children":[{"Type":"NodeText","Data":"然而，由于irradiance和振幅的平方成正比，这似乎导致了一个悖论，例如：将两个相同的光波进行叠加，会不会导致irradiance“1+1=4”的情况？由于irradiance描述的是能量流，这会不会违反能量守恒能量？对于这两个问题，前者的答案是“有时会”，而后者的答案则是“不会”。"}]}]},{"ID":"20240517101957-mw9kzkv","Type":"NodeParagraph","Properties":{"id":"20240517101957-mw9kzkv","updated":"20240525124759"},"Children":[{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"display: block;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240517101957-t968sd4.png"},{"Type":"NodeLinkSpace"},{"Type":"NodeLinkTitle","Data":"图9.3： n 个具有相同频率、相同偏振和相同振幅的单色光，它们以三种不同的方式进行叠加。从左到右分别是：`​相长干涉，相消干涉和不相干叠`​加 。每种情况的下面都展示了对应组合波的振幅和irradiance。"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"display: block;\"}"}]},{"ID":"20240517102015-tiw0na7","Type":"NodeParagraph","Properties":{"id":"20240517102015-tiw0na7","updated":"20240517102358"},"Children":[{"Type":"NodeText","Data":"当光波被发射出来之后，它们穿过空间，直到遇到一些可以相互作用的物质。"}]},{"ID":"20240517102404-phj7iaf","Type":"NodeParagraph","Properties":{"id":"20240517102404-phj7iaf","updated":"20240517102411"},"Children":[{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color5);"},"TextMarkType":"text","TextMarkTextContent":"振荡的电场会推动和拉动物质中的电荷，使它们也依次发生振荡。振荡的电荷会发射出新的光波，这个过程会将入射光波的一些能量重新定向到新的方向。这个作用过程被称为散射（scattering）"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color5);\"}"},{"Type":"NodeText","Data":"，它是各种光学现象的基础。"}]},{"ID":"20240517102412-upyz45m","Type":"NodeParagraph","Properties":{"id":"20240517102412-upyz45m","updated":"20240517102720"},"Children":[{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color5);"},"TextMarkType":"text","TextMarkTextContent":"散射出的光波与原始光波具有相同的频率"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color5);\"}"},{"Type":"NodeText","Data":"。通常情况下，当原始光波包含多个频率的光波时，每个频率的光波都会单独与物质发生作用。"}]},{"ID":"20240517102718-4a4xlxa","Type":"NodeParagraph","Properties":{"id":"20240517102718-4a4xlxa","updated":"20240517102718"},"Children":[{"Type":"NodeText","Data":"一个孤立的分子会使光波向着各个方向进行散射，并使光的强度发生一些方向性的变化。但是更多的光线还是会沿着接近原始传播轴的方向进行散射，包括向前的方向或者向后的方向。"}]},{"ID":"20240517102721-aqx5q7k","Type":"NodeParagraph","Properties":{"id":"20240517102721-aqx5q7k","updated":"20240517102747"},"Children":[{"Type":"NodeText","Data":"分子作为散射体（scatterer）的有效性（分子附近的光波被散射的可能性），会随着波长的变化而发生很大的改变。"}]},{"ID":"20240517102755-1valj32","Type":"NodeParagraph","Properties":{"id":"20240517102755-1valj32","updated":"20240517102755"},"Children":[{"Type":"NodeText","Data":"在渲染中，我们主要关心的是包含许多分子的集合，光线在与这些聚集体发生相互作用的时候，其结果可能会与孤立分子的情况有所不同。"}]},{"ID":"20240517102811-6d89t0c","Type":"NodeParagraph","Properties":{"id":"20240517102811-6d89t0c","updated":"20240517102819"},"Children":[{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color5);"},"TextMarkType":"text","TextMarkTextContent":"从附近分子散射出的光波通常是相干的，因此会相互干涉，因为它们大概率都具有相同的入射波"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color5);\"}"},{"Type":"NodeText","Data":"。"}]},{"ID":"20240517102821-a61p6q2","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240517102821-a61p6q2","updated":"20240527144126"},"Children":[{"Type":"NodeText","Data":"9.1.1 粒子"}]},{"ID":"20240517103318-slkofl2","Type":"NodeParagraph","Properties":{"id":"20240517103318-slkofl2","updated":"20240517103406"},"Children":[{"Type":"NodeText","Data":"在"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color5);"},"TextMarkType":"text","TextMarkTextContent":"理想气体（ideal gas）中，分子之间互不影响，即它们的相对位置是完全随机且不相关"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color5);\"}"},{"Type":"NodeText","Data":"的，虽然这是一种抽象概念，但是对于标准大气压下的空气而言，这是一个相当好的模型。在这种情况下，"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color5);"},"TextMarkType":"text","TextMarkTextContent":"从不同分子散射出的波，其相位差异是随机且不断变化的，因此这些散射波是不相干的，其能量呈线性叠加"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color5);\"}"},{"Type":"NodeText","Data":"，如图9.3右侧所示。"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color5);"},"TextMarkType":"text","TextMarkTextContent":"即从n个分子散射出的总光能，是单分子散射的n倍"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color5);\"}"},{"Type":"NodeText","Data":"。"}]},{"ID":"20240517103318-vit6zdg","Type":"NodeParagraph","Properties":{"id":"20240517103318-vit6zdg","updated":"20240517103615"},"Children":[{"Type":"NodeText","Data":"相反，如果分子紧密地排列在比光波长小得多的团簇（cluster）中，那么每个团簇中的散射光波都是同相位的，即会发生相长干涉，如图9.3左侧所示。即"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color5);"},"TextMarkType":"text","TextMarkTextContent":"从由n个分子组成的团簇散射出的总光强，是单分子散射的 "},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color5);\"}"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color5);"},"TextMarkType":"inline-math text","TextMarkInlineMathContent":"n^2"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color5);\"}"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color5);"},"TextMarkType":"text","TextMarkTextContent":"  倍，也是相同数量分子在理想气体散射中的n倍"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color5);\"}"},{"Type":"NodeText","Data":"。这种关系意味着，"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color5);"},"TextMarkType":"text","TextMarkTextContent":"对于一种密度恒定的物质，将分子聚集成团簇，将会显著增加散射光的强度。在保持整体分子密度不变的情况下，增加每个团簇的大小，将会进一步增加散射光的强度，直到团簇的直径接近光的波长，当超过这个临界值的时候，额外增加团簇的大小将并不会进一步增加散射光的强度"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color5);\"}"},{"Type":"NodeText","Data":"。"}]},{"ID":"20240517103545-qoczl8u","Type":"NodeBlockquote","Properties":{"id":"20240517103545-qoczl8u","updated":"20240517103630"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e"},{"ID":"20240517103625-fgbn6sy","Type":"NodeParagraph","Properties":{"id":"20240517103625-fgbn6sy","updated":"20240517103630"},"Children":[{"Type":"NodeText","Data":"这个过程解释了为什么云和雾的散射光是如此强烈。因为这两种现象都是由冷凝（condensation）产生的，所谓冷凝，是指空气中的水分子聚集成越来越大的团簇的过程。"}]}]},{"ID":"20240517103631-q99t0g4","Type":"NodeParagraph","Properties":{"id":"20240517103631-q99t0g4","updated":"20240517103748"},"Children":[{"Type":"NodeText","Data":"当我们在讨论光线散射的时候，粒子（particle）这个术语同时代表了孤立的分子与包含多个分子的团簇。"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color5);"},"TextMarkType":"text","TextMarkTextContent":"由于直径小于波长的多分子粒子散射，是孤立分子散射的增强版本（由于相长干涉），因此它会表现出相同的方向性变化和波长依赖性"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color5);\"}"},{"Type":"NodeText","Data":"。这种类型的散射在"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color5);"},"TextMarkType":"text","TextMarkTextContent":"大气粒子中被称为瑞利散射（Rayleigh scattering），在固体中则被称为丁达尔散射（Tyndall scattering）"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color5);\"}"},{"Type":"NodeText","Data":"。"}]},{"ID":"20240517103751-t22dju0","Type":"NodeParagraph","Properties":{"id":"20240517103751-t22dju0","updated":"20240517103832"},"Children":[{"Type":"NodeText","Data":"当粒子的大小超过光波长的时候，散射波在不再是同相的，这会改变散射的性质。散射光的方向越来越倾向于前向（即光波的原始传播方向），此时波长的依赖性会降低，直到所有的可见光波长都被均匀散射，这种类型的散射被称为米氏散射（Mie scattering）。（Ref: 14.1）"}]},{"ID":"20240517103834-pi582yt","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240517103834-pi582yt","updated":"20240527144126"},"Children":[{"Type":"NodeText","Data":"9.1.2 介质"}]},{"ID":"20240517103843-ea44ytw","Type":"NodeParagraph","Properties":{"id":"20240517103843-ea44ytw","updated":"20240517104046"},"Children":[{"Type":"NodeText","Data":"光在均匀介质（homogeneous medium）中进行传播是另一种重要的情况，"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color5);"},"TextMarkType":"text","TextMarkTextContent":"均匀介质是指一个充满均匀分布的相同分子的空间"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color5);\"}"},{"Type":"NodeText","Data":"。"}]},{"ID":"20240517104047-88g3k3h","Type":"NodeParagraph","Properties":{"id":"20240517104047-88g3k3h","updated":"20240517104536"},"Children":[{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color5);"},"TextMarkType":"text","TextMarkTextContent":"在均匀介质中"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color5);\"}"},{"Type":"NodeText","Data":"，散射波会整齐排列，除了沿着最初的传播方向之外，它们会在所有方向上都会产生相消干涉。当原始波与所有的单分子散射波结合之后，最终的结果与原始波基本相同，只有相位速度和振幅（在某些情况下）会有所不同。"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color5);"},"TextMarkType":"text","TextMarkTextContent":"最后叠加的结果并不会表现出任何散射现象，因为散射现象已经被相消干涉有效抑制了"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color5);\"}"},{"Type":"NodeText","Data":"。"}]},{"ID":"20240517104532-ugia75n","Type":"NodeParagraph","Properties":{"id":"20240517104532-ugia75n","updated":"20240517105028"},"Children":[{"Type":"NodeText","Data":"原始波和新波的相位速度之比，决定了介质的光学特性，这被称为折射率（index of refraction，IOR），通常使用字母"},{"Type":"NodeTextMark","TextMarkType":"inline-math","TextMarkInlineMathContent":"n"},{"Type":"NodeText","Data":"来进行表示。"}]},{"ID":"20240517105028-jp3g39m","Type":"NodeParagraph","Properties":{"id":"20240517105028-jp3g39m","updated":"20240527144112"},"Children":[{"Type":"NodeText","Data":"有些介质是具有吸收性的（absorptive），它们会将部分光能转换为热量，这会导致光波的振幅随着距离呈指数级下降，这个下降率由衰减率（attenuation index）定义，使用希腊字母"},{"Type":"NodeTextMark","TextMarkType":"inline-math","TextMarkInlineMathContent":"\\kappa (kappa)"},{"Type":"NodeText","Data":"来进行表示。"}]},{"ID":"20240527144112-qi5hu0t","Type":"NodeParagraph","Properties":{"id":"20240527144112-qi5hu0t","updated":"20240527144125"},"Children":[{"Type":"NodeText","Data":"n和"},{"Type":"NodeTextMark","TextMarkType":"inline-math","TextMarkInlineMathContent":"\\kappa"},{"Type":"NodeText","Data":"通常会随波长的变化而变化；这两个数字在一起，完整定义了一个介质会如何影响给定波长的光，它们通常被组合成一个复数"},{"Type":"NodeTextMark","TextMarkType":"inline-math","TextMarkInlineMathContent":"n+i\\kappa"},{"Type":"NodeText","Data":"，称为复折射率（complex index of refraction）。"}]},{"ID":"20240527144126-0r1vrdz","Type":"NodeParagraph","Properties":{"id":"20240527144126-0r1vrdz"}}]}